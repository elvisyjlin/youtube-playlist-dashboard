<!doctype html>
<html>
  <head>
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='favicon/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon/favicon-16x16.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='favicon/site.webmanifest') }}">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,800" rel="stylesheet" />
    <link href="{{ url_for('static', filename='css/index.css') }}" rel="stylesheet" />

    <title>Youtube Playlist Dashboard</title>
  </head>
  <body>
    <div class="s004">
      <form onsubmit="return DoSubmit();">
        <fieldset>
          <legend>Enter a Youtube Playlist URL or ID</legend>
          <div class="inner-form">
            <div class="input-field">
              <input class="form-control" id="text-input" type="text" placeholder="https://www.youtube.com/playlist?list=" />
              <button class="btn-search" type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                  <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
              </button>
            </div>
          </div>
          <!-- <div class="suggestion-wrap">
            <span>View Count</span>
            <span>Comment Count</span>
            <span>Like Rate</span>
            <span>Dislike Rate</span>
          </div> -->
        </fieldset>
      </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <script>
      function DoSubmit() {
        let inputValue = document.getElementById("text-input").value;
        if (inputValue.match(/^[A-Za-z0-9]{34}$/))
        {
          window.location.replace(window.location.origin + "/dashboard/" + inputValue);
        }
        else if (!inputValue || !inputValue.includes("https://www.youtube.com/playlist?list="))
        {
          alert(
            "Please enter a valid Youtube playlist url.\n\
For example, a URL looks like https://www.youtube.com/playlist?list=PLvTriPFFaqSPz2DisctrVnLgO2qvJpJ7T\n\
And an ID could be PLvTriPFFaqSPz2DisctrVnLgO2qvJpJ7T"
          )
        }
        else
        {
          let playlistId = inputValue.replace("https://www.youtube.com/playlist?list=", "");
          window.location.replace(window.location.origin + "/dashboard/" + playlistId);
        }
        return false;
      }
    </script>
  </body>
</html>